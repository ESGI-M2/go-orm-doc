"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9272],{2395:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>d,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"library/models","title":"Mod\xe8les","description":"Structures Go repr\xe9sentant des tables de base de donn\xe9es avec tags de m\xe9tadonn\xe9es.","source":"@site/docs/library/models.md","sourceDirName":"library","slug":"/library/models","permalink":"/docs/intro/docs/library/models","draft":false,"unlisted":false,"editUrl":"https://github.com/ESGI-M2/GO/tree/main/docs/docs/library/models.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docs","previous":{"title":"Configuration & Connexion","permalink":"/docs/intro/docs/library/configuration"},"next":{"title":"Repository","permalink":"/docs/intro/docs/library/repository"}}');var i=r(4848),s=r(8453);const d={sidebar_position:4},l="Mod\xe8les",a={},o=[{value:"Structure de Base",id:"structure-de-base",level:2},{value:"Mod\xe8le Simple",id:"mod\xe8le-simple",level:3},{value:"Mod\xe8le avec Relations",id:"mod\xe8le-avec-relations",level:3},{value:"Syst\xe8me de Tags",id:"syst\xe8me-de-tags",level:2},{value:"Nouveau Syst\xe8me",id:"nouveau-syst\xe8me",level:3},{value:"Ancien Syst\xe8me",id:"ancien-syst\xe8me",level:3},{value:"R\xe9f\xe9rence des Tags",id:"r\xe9f\xe9rence-des-tags",level:2},{value:"Tags Nouveau Syst\xe8me (<code>orm</code>)",id:"tags-nouveau-syst\xe8me-orm",level:3},{value:"Tags Ancien Syst\xe8me",id:"tags-ancien-syst\xe8me",level:3},{value:"Exemples Pratiques",id:"exemples-pratiques",level:2},{value:"Mod\xe8le Utilisateur Complet",id:"mod\xe8le-utilisateur-complet",level:3},{value:"Mod\xe8le avec Relations",id:"mod\xe8le-avec-relations-1",level:3},{value:"Types de Donn\xe9es Support\xe9s",id:"types-de-donn\xe9es-support\xe9s",level:2},{value:"Types Go vers SQL",id:"types-go-vers-sql",level:3},{value:"Exemples par Type",id:"exemples-par-type",level:3},{value:"Gestion des Relations",id:"gestion-des-relations",level:2},{value:"Cl\xe9s \xc9trang\xe8res",id:"cl\xe9s-\xe9trang\xe8res",level:3},{value:"Relations One-to-Many",id:"relations-one-to-many",level:3},{value:"Relations Many-to-Many",id:"relations-many-to-many",level:3},{value:"Validation et Contraintes",id:"validation-et-contraintes",level:2},{value:"Contraintes de Longueur",id:"contraintes-de-longueur",level:3},{value:"Contraintes de Valeur",id:"contraintes-de-valeur",level:3},{value:"Contraintes NULL",id:"contraintes-null",level:3},{value:"Migrations et Cr\xe9ation de Tables",id:"migrations-et-cr\xe9ation-de-tables",level:2},{value:"Cr\xe9ation Automatique",id:"cr\xe9ation-automatique",level:3},{value:"Cr\xe9ation Manuelle",id:"cr\xe9ation-manuelle",level:3},{value:"Nommage des Tables",id:"nommage-des-tables",level:2},{value:"Convention par D\xe9faut",id:"convention-par-d\xe9faut",level:3},{value:"Nommage Personnalis\xe9",id:"nommage-personnalis\xe9",level:3},{value:"Hooks et M\xe9thodes",id:"hooks-et-m\xe9thodes",level:2},{value:"Hooks de Cycle de Vie",id:"hooks-de-cycle-de-vie",level:3},{value:"Validation Personnalis\xe9e",id:"validation-personnalis\xe9e",level:3},{value:"Exemples Avanc\xe9s",id:"exemples-avanc\xe9s",level:2},{value:"Mod\xe8le avec Soft Delete",id:"mod\xe8le-avec-soft-delete",level:3},{value:"Mod\xe8le avec Timestamps",id:"mod\xe8le-avec-timestamps",level:3},{value:"Mod\xe8le avec JSON",id:"mod\xe8le-avec-json",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"mod\xe8les",children:"Mod\xe8les"})}),"\n",(0,i.jsx)(n.p,{children:"Structures Go repr\xe9sentant des tables de base de donn\xe9es avec tags de m\xe9tadonn\xe9es."}),"\n",(0,i.jsx)(n.h2,{id:"structure-de-base",children:"Structure de Base"}),"\n",(0,i.jsx)(n.h3,{id:"mod\xe8le-simple",children:"Mod\xe8le Simple"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    ID        int       `orm:"pk,auto"`\n    Name      string    `orm:"index"`\n    Email     string    `orm:"unique"`\n    CreatedAt time.Time `orm:"column:created_at"`\n    UpdatedAt time.Time `orm:"column:updated_at"`\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"mod\xe8le-avec-relations",children:"Mod\xe8le avec Relations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    ID        int       `orm:"pk,auto"`\n    Name      string    `orm:"index"`\n    Email     string    `orm:"unique"`\n    CreatedAt time.Time `orm:"column:created_at"`\n    UpdatedAt time.Time `orm:"column:updated_at"`\n}\n\ntype Post struct {\n    ID        int       `orm:"pk,auto"`\n    Title     string    `orm:"index"`\n    Content   string    \n    UserID    int       `orm:"fk:users.id"`\n    Published bool      `orm:"default:false"`\n    CreatedAt time.Time `orm:"column:created_at"`\n    UpdatedAt time.Time `orm:"column:updated_at"`\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"syst\xe8me-de-tags",children:"Syst\xe8me de Tags"}),"\n",(0,i.jsx)(n.p,{children:"Support de deux syst\xe8mes de tags :"}),"\n",(0,i.jsx)(n.h3,{id:"nouveau-syst\xe8me",children:"Nouveau Syst\xe8me"}),"\n",(0,i.jsxs)(n.p,{children:["Tag ",(0,i.jsx)(n.code,{children:"orm"})," avec syntaxe concise :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    ID       int    `orm:"pk,auto"`           // Cl\xe9 primaire + auto-incr\xe9ment\n    Name     string `orm:"index"`              // Champ index\xe9\n    Email    string `orm:"unique"`             // Contrainte unique\n    Age      int    `orm:"default:18"`         // Valeur par d\xe9faut\n    IsActive bool   `orm:"default:true"`       // Bool\xe9en avec d\xe9faut\n    Created  string `orm:"column:created_at"`  // Nom de colonne personnalis\xe9\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"ancien-syst\xe8me",children:"Ancien Syst\xe8me"}),"\n",(0,i.jsx)(n.p,{children:"Tags s\xe9par\xe9s pour chaque propri\xe9t\xe9 :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    ID       int    `db:"id" primary:"true" autoincrement:"true"`\n    Name     string `db:"name" index:"true"`\n    Email    string `db:"email" unique:"true"`\n    Age      int    `db:"age" default:"18"`\n    IsActive bool   `db:"is_active" default:"true"`\n    Created  string `db:"created_at"`\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"r\xe9f\xe9rence-des-tags",children:"R\xe9f\xe9rence des Tags"}),"\n",(0,i.jsxs)(n.h3,{id:"tags-nouveau-syst\xe8me-orm",children:["Tags Nouveau Syst\xe8me (",(0,i.jsx)(n.code,{children:"orm"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Tag"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Exemple"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pk"})}),(0,i.jsx)(n.td,{children:"Cl\xe9 primaire"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'orm:"pk"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"auto"})}),(0,i.jsx)(n.td,{children:"Auto-incr\xe9ment"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'orm:"auto"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"unique"})}),(0,i.jsx)(n.td,{children:"Contrainte unique"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'orm:"unique"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"index"})}),(0,i.jsx)(n.td,{children:"Cr\xe9er un index"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'orm:"index"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"nullable"})}),(0,i.jsx)(n.td,{children:"Autoriser les valeurs NULL"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'orm:"nullable"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"column:name"})}),(0,i.jsx)(n.td,{children:"Nom de colonne personnalis\xe9"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'orm:"column:user_name"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"length:n"})}),(0,i.jsx)(n.td,{children:"Longueur du champ"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'orm:"length:255"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"default:value"})}),(0,i.jsx)(n.td,{children:"Valeur par d\xe9faut"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'orm:"default:true"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fk:table.column"})}),(0,i.jsx)(n.td,{children:"Cl\xe9 \xe9trang\xe8re"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'orm:"fk:users.id"'})})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"tags-ancien-syst\xe8me",children:"Tags Ancien Syst\xe8me"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Tag"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Exemple"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"db"})}),(0,i.jsx)(n.td,{children:"Nom de la colonne"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'db:"user_name"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"primary"})}),(0,i.jsx)(n.td,{children:"Cl\xe9 primaire"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'primary:"true"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"autoincrement"})}),(0,i.jsx)(n.td,{children:"Auto-incr\xe9ment"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'autoincrement:"true"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"unique"})}),(0,i.jsx)(n.td,{children:"Contrainte unique"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'unique:"true"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"index"})}),(0,i.jsx)(n.td,{children:"Cr\xe9er un index"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'index:"true"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"foreign"})}),(0,i.jsx)(n.td,{children:"Cl\xe9 \xe9trang\xe8re"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'foreign:"users.id"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"length"})}),(0,i.jsx)(n.td,{children:"Longueur du champ"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'length:"255"'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"default"})}),(0,i.jsx)(n.td,{children:"Valeur par d\xe9faut"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'default:"18"'})})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"exemples-pratiques",children:"Exemples Pratiques"}),"\n",(0,i.jsx)(n.h3,{id:"mod\xe8le-utilisateur-complet",children:"Mod\xe8le Utilisateur Complet"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "time"\n)\n\ntype User struct {\n    ID        int       `orm:"pk,auto"`\n    Name      string    `orm:"index,length:100"`\n    Email     string    `orm:"unique,length:255"`\n    Age       int       `orm:"default:18"`\n    IsActive  bool      `orm:"default:true"`\n    CreatedAt time.Time `orm:"column:created_at"`\n    UpdatedAt time.Time `orm:"column:updated_at"`\n}\n\n// Avec l\'ancien syst\xe8me\ntype UserLegacy struct {\n    ID        int       `db:"id" primary:"true" autoincrement:"true"`\n    Name      string    `db:"name" index:"true" length:"100"`\n    Email     string    `db:"email" unique:"true" length:"255"`\n    Age       int       `db:"age" default:"18"`\n    IsActive  bool      `db:"is_active" default:"true"`\n    CreatedAt time.Time `db:"created_at"`\n    UpdatedAt time.Time `db:"updated_at"`\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"mod\xe8le-avec-relations-1",children:"Mod\xe8le avec Relations"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type Category struct {\n    ID   int    `orm:"pk,auto"`\n    Name string `orm:"unique,length:100"`\n}\n\ntype Product struct {\n    ID          int     `orm:"pk,auto"`\n    Name        string  `orm:"index,length:255"`\n    Description string  `orm:"nullable"`\n    Price       float64 `orm:"default:0.00"`\n    CategoryID  int     `orm:"fk:categories.id"`\n    IsActive    bool    `orm:"default:true"`\n    CreatedAt   time.Time `orm:"column:created_at"`\n}\n\n// Avec l\'ancien syst\xe8me\ntype ProductLegacy struct {\n    ID          int     `db:"id" primary:"true" autoincrement:"true"`\n    Name        string  `db:"name" index:"true" length:"255"`\n    Description string  `db:"description"`\n    Price       float64 `db:"price" default:"0.00"`\n    CategoryID  int     `db:"category_id" foreign:"categories.id"`\n    IsActive    bool    `db:"is_active" default:"true"`\n    CreatedAt   time.Time `db:"created_at"`\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"types-de-donn\xe9es-support\xe9s",children:"Types de Donn\xe9es Support\xe9s"}),"\n",(0,i.jsx)(n.h3,{id:"types-go-vers-sql",children:"Types Go vers SQL"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Type Go"}),(0,i.jsx)(n.th,{children:"MySQL"}),(0,i.jsx)(n.th,{children:"PostgreSQL"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"int"}),", ",(0,i.jsx)(n.code,{children:"int32"})]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"INT"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"INTEGER"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"int64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"BIGINT"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"BIGINT"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"VARCHAR"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"VARCHAR"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bool"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"BOOLEAN"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"BOOLEAN"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float32"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"FLOAT"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"REAL"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"float64"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"DOUBLE"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"DOUBLE PRECISION"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"time.Time"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"DATETIME"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"TIMESTAMP"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"[]byte"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"BLOB"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"BYTEA"})})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"exemples-par-type",children:"Exemples par Type"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type ExampleModel struct {\n    ID          int       `orm:"pk,auto"`\n    Name        string    `orm:"length:255"`\n    Age         int       `orm:"default:0"`\n    Height      float64   `orm:"default:0.0"`\n    IsActive    bool      `orm:"default:true"`\n    CreatedAt   time.Time `orm:"column:created_at"`\n    Data        []byte    `orm:"nullable"`\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"gestion-des-relations",children:"Gestion des Relations"}),"\n",(0,i.jsx)(n.h3,{id:"cl\xe9s-\xe9trang\xe8res",children:"Cl\xe9s \xc9trang\xe8res"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'// Utilisateur avec profil\ntype User struct {\n    ID   int    `orm:"pk,auto"`\n    Name string `orm:"index"`\n}\n\ntype Profile struct {\n    ID     int    `orm:"pk,auto"`\n    UserID int    `orm:"fk:users.id"`\n    Bio    string `orm:"nullable"`\n}\n\n// Avec l\'ancien syst\xe8me\ntype ProfileLegacy struct {\n    ID     int    `db:"id" primary:"true" autoincrement:"true"`\n    UserID int    `db:"user_id" foreign:"users.id"`\n    Bio    string `db:"bio"`\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"relations-one-to-many",children:"Relations One-to-Many"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type Category struct {\n    ID   int    `orm:"pk,auto"`\n    Name string `orm:"unique"`\n}\n\ntype Product struct {\n    ID         int    `orm:"pk,auto"`\n    Name       string `orm:"index"`\n    CategoryID int    `orm:"fk:categories.id"`\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"relations-many-to-many",children:"Relations Many-to-Many"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    ID   int    `orm:"pk,auto"`\n    Name string `orm:"index"`\n}\n\ntype Role struct {\n    ID   int    `orm:"pk,auto"`\n    Name string `orm:"unique"`\n}\n\n// Table de liaison\ntype UserRole struct {\n    UserID int `orm:"fk:users.id"`\n    RoleID int `orm:"fk:roles.id"`\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"validation-et-contraintes",children:"Validation et Contraintes"}),"\n",(0,i.jsx)(n.h3,{id:"contraintes-de-longueur",children:"Contraintes de Longueur"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    Name     string `orm:"length:100"`        // VARCHAR(100)\n    Email    string `orm:"unique,length:255"` // VARCHAR(255) UNIQUE\n    Password string `orm:"length:60"`         // Bcrypt hash\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"contraintes-de-valeur",children:"Contraintes de Valeur"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type Product struct {\n    Price    float64 `orm:"default:0.00"`\n    IsActive bool    `orm:"default:true"`\n    Stock    int     `orm:"default:0"`\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"contraintes-null",children:"Contraintes NULL"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    Name        string  `orm:"index"`          // NOT NULL\n    Description *string `orm:"nullable"`       // NULL autoris\xe9\n    Age         int     `orm:"default:0"`      // NOT NULL avec d\xe9faut\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"migrations-et-cr\xe9ation-de-tables",children:"Migrations et Cr\xe9ation de Tables"}),"\n",(0,i.jsx)(n.h3,{id:"cr\xe9ation-automatique",children:"Cr\xe9ation Automatique"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'func main() {\n    orm := builder.NewSimpleORM().\n        WithMySQL().\n        WithQuickConfig("localhost", "db", "user", "pass").\n        RegisterModels(&User{}, &Product{}, &Category{})\n\n    if err := orm.Connect(); err != nil {\n        log.Fatal(err)\n    }\n    defer orm.Close()\n\n    // Cr\xe9ation automatique des tables\n    if err := orm.Migrate(); err != nil {\n        log.Fatal(err)\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"cr\xe9ation-manuelle",children:"Cr\xe9ation Manuelle"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"// Cr\xe9er une table sp\xe9cifique\nif err := orm.CreateTable(&User{}); err != nil {\n    log.Fatal(err)\n}\n\n// Supprimer une table\nif err := orm.DropTable(&User{}); err != nil {\n    log.Fatal(err)\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"nommage-des-tables",children:"Nommage des Tables"}),"\n",(0,i.jsx)(n.h3,{id:"convention-par-d\xe9faut",children:"Convention par D\xe9faut"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {       // Table: users\n    ID int `orm:"pk,auto"`\n}\n\ntype UserProfile struct { // Table: user_profiles\n    ID int `orm:"pk,auto"`\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"nommage-personnalis\xe9",children:"Nommage Personnalis\xe9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    ID int `orm:"pk,auto"`\n}\n\n// Impl\xe9mentation de l\'interface TableName\nfunc (User) TableName() string {\n    return "custom_users"\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"hooks-et-m\xe9thodes",children:"Hooks et M\xe9thodes"}),"\n",(0,i.jsx)(n.h3,{id:"hooks-de-cycle-de-vie",children:"Hooks de Cycle de Vie"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    ID        int       `orm:"pk,auto"`\n    Name      string    `orm:"index"`\n    CreatedAt time.Time `orm:"column:created_at"`\n    UpdatedAt time.Time `orm:"column:updated_at"`\n}\n\n// Hook avant cr\xe9ation\nfunc (u *User) BeforeCreate() error {\n    u.CreatedAt = time.Now()\n    u.UpdatedAt = time.Now()\n    return nil\n}\n\n// Hook avant mise \xe0 jour\nfunc (u *User) BeforeUpdate() error {\n    u.UpdatedAt = time.Now()\n    return nil\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"validation-personnalis\xe9e",children:"Validation Personnalis\xe9e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    ID    int    `orm:"pk,auto"`\n    Name  string `orm:"index"`\n    Email string `orm:"unique"`\n}\n\nfunc (u *User) Validate() error {\n    if len(u.Name) < 2 {\n        return errors.New("nom trop court")\n    }\n    if !strings.Contains(u.Email, "@") {\n        return errors.New("email invalide")\n    }\n    return nil\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"exemples-avanc\xe9s",children:"Exemples Avanc\xe9s"}),"\n",(0,i.jsx)(n.h3,{id:"mod\xe8le-avec-soft-delete",children:"Mod\xe8le avec Soft Delete"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    ID        int        `orm:"pk,auto"`\n    Name      string     `orm:"index"`\n    Email     string     `orm:"unique"`\n    DeletedAt *time.Time `orm:"column:deleted_at,nullable"`\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"mod\xe8le-avec-timestamps",children:"Mod\xe8le avec Timestamps"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type BaseModel struct {\n    ID        int       `orm:"pk,auto"`\n    CreatedAt time.Time `orm:"column:created_at"`\n    UpdatedAt time.Time `orm:"column:updated_at"`\n}\n\ntype User struct {\n    BaseModel\n    Name  string `orm:"index"`\n    Email string `orm:"unique"`\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"mod\xe8le-avec-json",children:"Mod\xe8le avec JSON"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'type User struct {\n    ID       int    `orm:"pk,auto"`\n    Name     string `orm:"index"`\n    Metadata string `orm:"column:metadata"` // JSON en string\n}\n\n// Utilisation\nuser := &User{\n    Name:     "John",\n    Metadata: `{"preferences": {"theme": "dark"}}`,\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>l});var t=r(6540);const i={},s=t.createContext(i);function d(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);