"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5657],{8268:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"library/builder-pattern","title":"Pattern Builder (SimpleORM)","description":"Interface fluide pour configuration et initialisation de l\'ORM.","source":"@site/docs/library/builder-pattern.md","sourceDirName":"library","slug":"/library/builder-pattern","permalink":"/docs/intro/docs/library/builder-pattern","draft":false,"unlisted":false,"editUrl":"https://github.com/ESGI-M2/GO/tree/main/docs/docs/library/builder-pattern.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docs","previous":{"title":"Pagination & Cache","permalink":"/docs/intro/docs/library/pagination"},"next":{"title":"Exemples d\'Utilisation Avanc\xe9e","permalink":"/docs/intro/docs/library/examples"}}');var r=i(4848),a=i(8453);const t={sidebar_position:5},l="Pattern Builder (SimpleORM)",s={},d=[{value:"Concepts Fondamentaux",id:"concepts-fondamentaux",level:2},{value:"SimpleORM",id:"simpleorm",level:3},{value:"Architecture",id:"architecture",level:3},{value:"M\xe9thodes de Configuration",id:"m\xe9thodes-de-configuration",level:2},{value:"Cr\xe9ation d&#39;Instance",id:"cr\xe9ation-dinstance",level:3},{value:"Configuration du Dialecte",id:"configuration-du-dialecte",level:3},{value:"Configuration de Connexion",id:"configuration-de-connexion",level:3},{value:"Configuration Rapide",id:"configuration-rapide",level:4},{value:"Configuration Avanc\xe9e",id:"configuration-avanc\xe9e",level:4},{value:"Configuration par Builder",id:"configuration-par-builder",level:4},{value:"Configuration par Variables d&#39;Environnement",id:"configuration-par-variables-denvironnement",level:4},{value:"Gestion des Mod\xe8les",id:"gestion-des-mod\xe8les",level:2},{value:"Enregistrement des Mod\xe8les",id:"enregistrement-des-mod\xe8les",level:3},{value:"Gestion Automatique",id:"gestion-automatique",level:3},{value:"M\xe9thodes de Connexion",id:"m\xe9thodes-de-connexion",level:2},{value:"Connexion Standard",id:"connexion-standard",level:3},{value:"M\xe9thodes Rapides",id:"m\xe9thodes-rapides",level:3},{value:"Setup depuis Variables d&#39;Environnement",id:"setup-depuis-variables-denvironnement",level:3},{value:"Pool de Connexions",id:"pool-de-connexions",level:2},{value:"Configuration du Pool",id:"configuration-du-pool",level:3},{value:"Configuration Avanc\xe9e",id:"configuration-avanc\xe9e-1",level:3},{value:"Cache et Performance",id:"cache-et-performance",level:2},{value:"Configuration du Cache",id:"configuration-du-cache",level:3},{value:"Logs SQL",id:"logs-sql",level:3},{value:"Exemples d&#39;Usage",id:"exemples-dusage",level:2},{value:"Configuration Minimale",id:"configuration-minimale",level:3},{value:"Configuration Compl\xe8te",id:"configuration-compl\xe8te",level:3},{value:"Configuration avec Variables d&#39;Environnement",id:"configuration-avec-variables-denvironnement",level:3},{value:"Configuration Multi-Environnement",id:"configuration-multi-environnement",level:3},{value:"Interfaces et M\xe9thodes",id:"interfaces-et-m\xe9thodes",level:2},{value:"Interface SimpleORM",id:"interface-simpleorm",level:3},{value:"M\xe9thodes Utilitaires",id:"m\xe9thodes-utilitaires",level:3},{value:"Gestion des Erreurs",id:"gestion-des-erreurs",level:2},{value:"Validation de Configuration",id:"validation-de-configuration",level:3},{value:"R\xe9cup\xe9ration d&#39;Erreurs",id:"r\xe9cup\xe9ration-derreurs",level:3},{value:"Optimisation et Performance",id:"optimisation-et-performance",level:2},{value:"Pool de Connexions Optimal",id:"pool-de-connexions-optimal",level:3},{value:"Configuration Cache",id:"configuration-cache",level:3},{value:"Logs et Monitoring",id:"logs-et-monitoring",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"pattern-builder-simpleorm",children:"Pattern Builder (SimpleORM)"})}),"\n",(0,r.jsx)(n.p,{children:"Interface fluide pour configuration et initialisation de l'ORM."}),"\n",(0,r.jsx)(n.h2,{id:"concepts-fondamentaux",children:"Concepts Fondamentaux"}),"\n",(0,r.jsx)(n.h3,{id:"simpleorm",children:"SimpleORM"}),"\n",(0,r.jsx)(n.p,{children:"Fa\xe7ade qui simplifie l'utilisation de GO ORM :"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Interface fluide"})," : M\xe9thodes chainables"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configuration simplifi\xe9e"})," : Raccourcis pour cas d'usage courants"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gestion automatique"})," : Cr\xe9ation de base de donn\xe9es et migration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validation int\xe9gr\xe9e"})," : V\xe9rification des configurations"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"type SimpleORM struct {\n    orm         interfaces.ORM           // Instance ORM sous-jacente\n    dialect     interfaces.Dialect      // Dialecte de base de donn\xe9es\n    config      interfaces.ConnectionConfig // Configuration de connexion\n    dialectType factory.DialectType     // Type de dialecte\n    autoCreate  bool                    // Cr\xe9ation automatique de BD\n    models      []interface{}           // Mod\xe8les enregistr\xe9s\n    connected   bool                    // \xc9tat de connexion\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"m\xe9thodes-de-configuration",children:"M\xe9thodes de Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"cr\xe9ation-dinstance",children:"Cr\xe9ation d'Instance"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"// Nouvelle instance SimpleORM\norm := builder.NewSimpleORM()\n\n// Instances pr\xe9-configur\xe9es\nmysqlORM := builder.NewMySQL()\npostgresORM := builder.NewPostgreSQL()\n\n// Avec variables d'environnement\nmysqlFromEnv := builder.NewMySQLFromEnv()\npostgresFromEnv := builder.NewPostgreSQLFromEnv()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-du-dialecte",children:"Configuration du Dialecte"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// Par cha\xeene de caract\xe8res\norm := builder.NewSimpleORM().WithDialect("mysql")\norm := builder.NewSimpleORM().WithDialect("postgresql")\n\n// Par constante\norm := builder.NewSimpleORM().WithDialect(factory.MySQL)\norm := builder.NewSimpleORM().WithDialect(factory.PostgreSQL)\n\n// M\xe9thodes de commodit\xe9\norm := builder.NewSimpleORM().WithMySQL()\norm := builder.NewSimpleORM().WithPostgreSQL()\n'})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-de-connexion",children:"Configuration de Connexion"}),"\n",(0,r.jsx)(n.h4,{id:"configuration-rapide",children:"Configuration Rapide"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// Configuration basique\norm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "password")\n\n// Configuration avec port personnalis\xe9 (d\xe9tect\xe9 automatiquement)\norm := builder.NewSimpleORM().\n    WithPostgreSQL().\n    WithQuickConfig("localhost", "myapp", "user", "password") // Port 5432 automatique\n'})}),"\n",(0,r.jsx)(n.h4,{id:"configuration-avanc\xe9e",children:"Configuration Avanc\xe9e"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// Configuration d\xe9taill\xe9e\nconfig := interfaces.ConnectionConfig{\n    Host:            "localhost",\n    Port:            3306,\n    Database:        "myapp",\n    Username:        "user",\n    Password:        "password",\n    MaxOpenConns:    25,\n    MaxIdleConns:    5,\n    ConnMaxLifetime: 300,\n    Options: map[string]string{\n        "charset": "utf8mb4",\n        "parseTime": "True",\n    },\n}\n\norm := builder.NewSimpleORM().\n    WithMySQL().\n    WithConfig(config)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"configuration-par-builder",children:"Configuration par Builder"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// Utilisation du ConfigBuilder\nconfigBuilder := builder.MySQL().\n    WithHost("localhost").\n    WithDatabase("myapp").\n    WithCredentials("user", "password").\n    WithConnectionPool(25, 5).\n    WithAutoCreateDatabase()\n\norm := builder.NewSimpleORM().\n    WithConfigBuilder(configBuilder)\n'})}),"\n",(0,r.jsx)(n.h4,{id:"configuration-par-variables-denvironnement",children:"Configuration par Variables d'Environnement"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"// Variables d'environnement pour MySQL\n// MYSQL_HOST, MYSQL_PORT, MYSQL_DATABASE, MYSQL_USER, MYSQL_PASSWORD\n\norm := builder.NewSimpleORM().\n    WithMySQL().\n    WithEnvConfig()\n\n// Variables d'environnement pour PostgreSQL\n// POSTGRES_HOST, POSTGRES_PORT, POSTGRES_DB, POSTGRES_USER, POSTGRES_PASSWORD\n\norm := builder.NewSimpleORM().\n    WithPostgreSQL().\n    WithEnvConfig()\n"})}),"\n",(0,r.jsx)(n.h2,{id:"gestion-des-mod\xe8les",children:"Gestion des Mod\xe8les"}),"\n",(0,r.jsx)(n.h3,{id:"enregistrement-des-mod\xe8les",children:"Enregistrement des Mod\xe8les"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// Enregistrer un mod\xe8le\norm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "password").\n    RegisterModel(&User{})\n\n// Enregistrer plusieurs mod\xe8les\norm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "password").\n    RegisterModels(&User{}, &Post{}, &Comment{})\n\n// Enregistrement cha\xeen\xe9\norm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "password").\n    RegisterModel(&User{}).\n    RegisterModel(&Post{}).\n    RegisterModel(&Comment{})\n'})}),"\n",(0,r.jsx)(n.h3,{id:"gestion-automatique",children:"Gestion Automatique"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// Cr\xe9ation automatique de base de donn\xe9es\norm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "password").\n    WithAutoCreateDatabase(). // Cr\xe9er la BD si elle n\'existe pas\n    RegisterModels(&User{}, &Post{})\n\n// Migration automatique des tables\n// Les tables sont cr\xe9\xe9es/mises \xe0 jour automatiquement lors de Connect()\n'})}),"\n",(0,r.jsx)(n.h2,{id:"m\xe9thodes-de-connexion",children:"M\xe9thodes de Connexion"}),"\n",(0,r.jsx)(n.h3,{id:"connexion-standard",children:"Connexion Standard"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'orm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "password").\n    RegisterModels(&User{}, &Post{})\n\n// \xc9tablir la connexion\nif err := orm.Connect(); err != nil {\n    log.Fatal("Erreur de connexion:", err)\n}\ndefer orm.Close()\n'})}),"\n",(0,r.jsx)(n.h3,{id:"m\xe9thodes-rapides",children:"M\xe9thodes Rapides"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// Configuration compl\xe8te en une ligne\norm, err := builder.QuickSetup(\n    "mysql",                    // Dialecte\n    "localhost",                // H\xf4te\n    "myapp",                    // Base de donn\xe9es\n    "user",                     // Utilisateur\n    "password",                 // Mot de passe\n    &User{}, &Post{},          // Mod\xe8les\n)\n\nif err != nil {\n    log.Fatal("Erreur de configuration:", err)\n}\ndefer orm.Close()\n'})}),"\n",(0,r.jsx)(n.h3,{id:"setup-depuis-variables-denvironnement",children:"Setup depuis Variables d'Environnement"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// Configuration automatique depuis variables d\'environnement\norm, err := builder.QuickSetupFromEnv("mysql", &User{}, &Post{})\nif err != nil {\n    log.Fatal("Erreur de configuration:", err)\n}\ndefer orm.Close()\n'})}),"\n",(0,r.jsx)(n.h2,{id:"pool-de-connexions",children:"Pool de Connexions"}),"\n",(0,r.jsx)(n.h3,{id:"configuration-du-pool",children:"Configuration du Pool"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'orm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "password").\n    WithConnectionPool(25, 5, 300) // maxOpen, maxIdle, maxLifetime (secondes)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-avanc\xe9e-1",children:"Configuration Avanc\xe9e"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'config := interfaces.ConnectionConfig{\n    Host:            "localhost",\n    Port:            3306,\n    Database:        "myapp",\n    Username:        "user",\n    Password:        "password",\n    MaxOpenConns:    25,    // Connexions ouvertes maximum\n    MaxIdleConns:    5,     // Connexions inactives maximum\n    ConnMaxLifetime: 300,   // Dur\xe9e de vie max (secondes)\n}\n\norm := builder.NewSimpleORM().\n    WithMySQL().\n    WithConfig(config)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"cache-et-performance",children:"Cache et Performance"}),"\n",(0,r.jsx)(n.h3,{id:"configuration-du-cache",children:"Configuration du Cache"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'orm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "password").\n    WithCache(300) // Cache TTL en secondes\n'})}),"\n",(0,r.jsx)(n.h3,{id:"logs-sql",children:"Logs SQL"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'orm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "password").\n    EnableQueryLog() // Activer les logs SQL\n'})}),"\n",(0,r.jsx)(n.h2,{id:"exemples-dusage",children:"Exemples d'Usage"}),"\n",(0,r.jsx)(n.h3,{id:"configuration-minimale",children:"Configuration Minimale"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "log"\n    "github.com/ESGI-M2/GO/orm/builder"\n)\n\nfunc main() {\n    orm := builder.NewSimpleORM().\n        WithMySQL().\n        WithQuickConfig("localhost", "myapp", "user", "password").\n        RegisterModels(&User{})\n\n    if err := orm.Connect(); err != nil {\n        log.Fatal(err)\n    }\n    defer orm.Close()\n\n    // Utilisation normale\n    repo := orm.Repository(&User{})\n    // ...\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-compl\xe8te",children:"Configuration Compl\xe8te"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "log"\n    "github.com/ESGI-M2/GO/orm/builder"\n)\n\nfunc main() {\n    orm := builder.NewSimpleORM().\n        WithMySQL().\n        WithQuickConfig("localhost", "myapp", "user", "password").\n        WithConnectionPool(25, 5, 300).\n        WithCache(300).\n        WithAutoCreateDatabase().\n        EnableQueryLog().\n        RegisterModels(&User{}, &Post{}, &Comment{})\n\n    if err := orm.Connect(); err != nil {\n        log.Fatal(err)\n    }\n    defer orm.Close()\n\n    // Migration automatique\n    if err := orm.Migrate(); err != nil {\n        log.Fatal(err)\n    }\n\n    // Utilisation normale\n    repo := orm.Repository(&User{})\n    // ...\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-avec-variables-denvironnement",children:"Configuration avec Variables d'Environnement"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "log"\n    "os"\n    "github.com/ESGI-M2/GO/orm/builder"\n)\n\nfunc main() {\n    // Configuration des variables d\'environnement\n    os.Setenv("MYSQL_HOST", "localhost")\n    os.Setenv("MYSQL_DATABASE", "myapp")\n    os.Setenv("MYSQL_USER", "user")\n    os.Setenv("MYSQL_PASSWORD", "password")\n\n    orm, err := builder.QuickSetupFromEnv("mysql", &User{}, &Post{})\n    if err != nil {\n        log.Fatal(err)\n    }\n    defer orm.Close()\n\n    // Utilisation normale\n    repo := orm.Repository(&User{})\n    // ...\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-multi-environnement",children:"Configuration Multi-Environnement"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "log"\n    "os"\n    "github.com/ESGI-M2/GO/orm/builder"\n)\n\nfunc getORM() *builder.SimpleORM {\n    env := os.Getenv("GO_ENV")\n    \n    switch env {\n    case "production":\n        return builder.NewSimpleORM().\n            WithPostgreSQL().\n            WithEnvConfig().\n            WithConnectionPool(50, 10, 600).\n            WithCache(600).\n            RegisterModels(&User{}, &Post{})\n    case "test":\n        return builder.NewSimpleORM().\n            WithDialect("mock").\n            RegisterModels(&User{}, &Post{})\n    default: // development\n        return builder.NewSimpleORM().\n            WithMySQL().\n            WithQuickConfig("localhost", "dev_db", "root", "password").\n            EnableQueryLog().\n            RegisterModels(&User{}, &Post{})\n    }\n}\n\nfunc main() {\n    orm := getORM()\n    \n    if err := orm.Connect(); err != nil {\n        log.Fatal(err)\n    }\n    defer orm.Close()\n\n    // Utilisation normale\n    repo := orm.Repository(&User{})\n    // ...\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"interfaces-et-m\xe9thodes",children:"Interfaces et M\xe9thodes"}),"\n",(0,r.jsx)(n.h3,{id:"interface-simpleorm",children:"Interface SimpleORM"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"type SimpleORM interface {\n    // Configuration\n    WithDialect(dialectType interface{}) *SimpleORM\n    WithMySQL() *SimpleORM\n    WithPostgreSQL() *SimpleORM\n    WithQuickConfig(host, database, username, password string) *SimpleORM\n    WithConfig(config interfaces.ConnectionConfig) *SimpleORM\n    WithEnvConfig() *SimpleORM\n    WithAutoCreateDatabase() *SimpleORM\n    \n    // Pool de connexions\n    WithConnectionPool(maxOpen, maxIdle, maxLifetime int) *SimpleORM\n    \n    // Cache et logs\n    WithCache(ttl int) *SimpleORM\n    EnableQueryLog() *SimpleORM\n    DisableQueryLog() *SimpleORM\n    \n    // Mod\xe8les\n    RegisterModel(model interface{}) *SimpleORM\n    RegisterModels(models ...interface{}) *SimpleORM\n    \n    // Connexion\n    Connect() error\n    Close() error\n    \n    // Acc\xe8s ORM\n    GetORM() interfaces.ORM\n    Repository(model interface{}) interfaces.Repository\n    Query(model interface{}) interfaces.QueryBuilder\n    Transaction(fn func(interfaces.ORM) error) error\n    TransactionWithContext(ctx context.Context, fn func(interfaces.ORM) error) error\n    \n    // Migrations\n    Migrate() error\n    CreateTable(model interface{}) error\n    DropTable(model interface{}) error\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"m\xe9thodes-utilitaires",children:"M\xe9thodes Utilitaires"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"// Fonctions globales\nfunc QuickSetup(dialect, host, database, username, password string, models ...interface{}) (*SimpleORM, error)\nfunc QuickSetupFromEnv(dialect string, models ...interface{}) (*SimpleORM, error)\nfunc NewMySQL() *SimpleORM\nfunc NewPostgreSQL() *SimpleORM\nfunc NewMySQLFromEnv() *SimpleORM\nfunc NewPostgreSQLFromEnv() *SimpleORM\n"})}),"\n",(0,r.jsx)(n.h2,{id:"gestion-des-erreurs",children:"Gestion des Erreurs"}),"\n",(0,r.jsx)(n.h3,{id:"validation-de-configuration",children:"Validation de Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'orm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "password")\n\n// Validation automatique \xe0 la connexion\nif err := orm.Connect(); err != nil {\n    switch err {\n    case builder.ErrInvalidDialect:\n        log.Fatal("Dialecte invalide")\n    case builder.ErrMissingConfig:\n        log.Fatal("Configuration manquante")\n    case builder.ErrConnectionFailed:\n        log.Fatal("Connexion \xe9chou\xe9e")\n    default:\n        log.Fatal("Erreur:", err)\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"r\xe9cup\xe9ration-derreurs",children:"R\xe9cup\xe9ration d'Erreurs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'orm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "wrong_password")\n\nif err := orm.Connect(); err != nil {\n    log.Printf("Erreur de connexion: %v", err)\n    \n    // Reconfiguration\n    orm.WithQuickConfig("localhost", "myapp", "user", "correct_password")\n    \n    if err := orm.Connect(); err != nil {\n        log.Fatal("Impossible de se connecter:", err)\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"optimisation-et-performance",children:"Optimisation et Performance"}),"\n",(0,r.jsx)(n.h3,{id:"pool-de-connexions-optimal",children:"Pool de Connexions Optimal"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// Configuration pour environnement de production\norm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "password").\n    WithConnectionPool(\n        100,  // MaxOpenConns - connexions simultan\xe9es maximum\n        10,   // MaxIdleConns - connexions inactives en pool\n        3600, // ConnMaxLifetime - dur\xe9e de vie max (1 heure)\n    )\n'})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-cache",children:"Configuration Cache"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// Cache avec TTL adapt\xe9\norm := builder.NewSimpleORM().\n    WithMySQL().\n    WithQuickConfig("localhost", "myapp", "user", "password").\n    WithCache(300) // 5 minutes de cache\n'})}),"\n",(0,r.jsx)(n.h3,{id:"logs-et-monitoring",children:"Logs et Monitoring"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'// Logs activ\xe9s en d\xe9veloppement seulement\nif os.Getenv("GO_ENV") == "development" {\n    orm = orm.EnableQueryLog()\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Le pattern Builder rend GO ORM accessible et puissant ! \ud83c\udfd7\ufe0f"})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var o=i(6540);const r={},a=o.createContext(r);function t(e){const n=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);