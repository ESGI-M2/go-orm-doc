"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1746],{8532:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"technical/query-builder","title":"Query Builder - Impl\xe9mentation technique","description":"Cette page d\xe9taille l\'impl\xe9mentation interne du Query Builder.","source":"@site/docs/technical/query-builder.md","sourceDirName":"technical","slug":"/technical/query-builder","permalink":"/go-orm-doc/docs/technical/query-builder","draft":false,"unlisted":false,"editUrl":"https://github.com/ESGI-M2/GO/tree/main/docs/docs/technical/query-builder.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"sidebar_label":"Query Builder interne"},"sidebar":"docs","previous":{"title":"Repository interne","permalink":"/go-orm-doc/docs/technical/repository"},"next":{"title":"Transactions internes","permalink":"/go-orm-doc/docs/technical/transaction"}}');var r=s(4848),t=s(8453);const l={sidebar_position:5,sidebar_label:"Query Builder interne"},d="Query Builder - Impl\xe9mentation technique",c={},o=[{value:"Fonctionnalit\xe9s Go utilis\xe9es",id:"fonctionnalit\xe9s-go-utilis\xe9es",level:2},{value:"Packages standards",id:"packages-standards",level:3},{value:"Concepts Go avanc\xe9s",id:"concepts-go-avanc\xe9s",level:3},{value:"Patterns Go idiomatiques",id:"patterns-go-idiomatiques",level:3},{value:"Structure interne",id:"structure-interne",level:2},{value:"M\xe9thodes principales",id:"m\xe9thodes-principales",level:2},{value:"Construction des requ\xeates",id:"construction-des-requ\xeates",level:2},{value:"Gestion des erreurs",id:"gestion-des-erreurs",level:2},{value:"S\xe9curit\xe9",id:"s\xe9curit\xe9",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"query-builder---impl\xe9mentation-technique",children:"Query Builder - Impl\xe9mentation technique"})}),"\n",(0,r.jsx)(n.p,{children:"Cette page d\xe9taille l'impl\xe9mentation interne du Query Builder."}),"\n",(0,r.jsx)(n.h2,{id:"fonctionnalit\xe9s-go-utilis\xe9es",children:"Fonctionnalit\xe9s Go utilis\xe9es"}),"\n",(0,r.jsx)(n.h3,{id:"packages-standards",children:"Packages standards"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"strings.Builder"})," : Construction efficace des requ\xeates SQL"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"fmt"})," : Formatage des param\xe8tres et des conditions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"reflect"})," : Analyse des structures pour les clauses WHERE"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"errors"})," : Gestion des erreurs de construction de requ\xeates"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"concepts-go-avanc\xe9s",children:"Concepts Go avanc\xe9s"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Method chaining"})," : Retour du receveur pour un cha\xeenage fluide"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Variadic functions"})," : Arguments variables pour les conditions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type switches"})," : Analyse dynamique des types de param\xe8tres"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Struct tags"})," : Extraction des m\xe9tadonn\xe9es de mapping"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Interface composition"})," : S\xe9paration des responsabilit\xe9s du builder"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"patterns-go-idiomatiques",children:"Patterns Go idiomatiques"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Builder pattern"})," : Construction progressive des requ\xeates"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fluent interface"})," : API chainable et expressive"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type safety"})," : V\xe9rification des types \xe0 la compilation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error handling"})," : Accumulation des erreurs pendant la construction"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Immutability"})," : Clonage du builder pour les sous-requ\xeates"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"structure-interne",children:"Structure interne"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"type QueryBuilder struct {\n    dialect    Dialect\n    model      interface{}\n    table     string\n    columns   []string\n    where     []Condition\n    joins     []Join\n    orderBy   []string\n    limit     *int\n    offset    *int\n    args      []interface{}\n    err       error\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"m\xe9thodes-principales",children:"M\xe9thodes principales"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Select"})," : Sp\xe9cifie les colonnes \xe0 retourner"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Where"})," : Ajoute des conditions de filtrage"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Join"})," : G\xe8re les jointures entre tables"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OrderBy"})," : Tri des r\xe9sultats"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Limit/Offset"})," : Pagination des r\xe9sultats"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"construction-des-requ\xeates",children:"Construction des requ\xeates"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Chaque m\xe9thode ajoute des \xe9l\xe9ments \xe0 la structure"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Build()"})," assemble la requ\xeate finale"]}),"\n",(0,r.jsx)(n.li,{children:"Les param\xe8tres sont collect\xe9s dans l'ordre"}),"\n",(0,r.jsx)(n.li,{children:"Le Dialect fournit les placeholders"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"gestion-des-erreurs",children:"Gestion des erreurs"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Chaque m\xe9thode v\xe9rifie la validit\xe9 des param\xe8tres"}),"\n",(0,r.jsxs)(n.li,{children:["Les erreurs sont accumul\xe9es dans le champ ",(0,r.jsx)(n.code,{children:"err"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Build()"})," retourne l'erreur si la construction \xe9choue"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"s\xe9curit\xe9",children:"S\xe9curit\xe9"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Utilisation syst\xe9matique des placeholders"}),"\n",(0,r.jsx)(n.li,{children:"\xc9chappement des identifiants via le Dialect"}),"\n",(0,r.jsx)(n.li,{children:"Validation des noms de colonnes et tables"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Voir la documentation utilisateur pour les exemples d'utilisation."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);